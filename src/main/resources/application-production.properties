spring.application.name=backend
server.port=8080
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}

server.forward-headers-strategy=framework

cors.allowed.origins=${APP_CORS_ALLOWED_ORIGINS:http://localhost:4200}
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:http://localhost:4200}
app.ws.allowed-origins=${APP_WS_ALLOWED_ORIGINS:http://localhost:4200}

management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.prometheus.enabled=true
management.prometheus.metrics.export.enabled=true

ai.scoring.url=${AI_SCORING_URL:http://localhost:8000}
ai.scoring.timeout.ms=1500

privacy.export.retention.days=7

# where to send users after they click the email link
app.frontend.base-url=${FRONTEND_BASE_URL:http://localhost:4200}

# allow-list work email domains (comma-separated). For now: yahoo.com
app.medic.allowed-domains=${MEDIC_ALLOWED_DOMAINS:yahoo.com}

# SMTP (Yahoo example â€“ requires an App Password)
spring.mail.host=${MAIL_HOST:smtp.mail.yahoo.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.default-encoding=UTF-8

app.admin.notify.emails=${ADMIN_NOTIFY_EMAILS:dobremihai97@yahoo.com}